<!-- Modal title -->
<div class="modal-header">
  <h2 class="modal-title col-xs-12">
    <span class="glyphicon glyphicon-pencil"></span> 
    Edit Hospital Map 
  </h2>
  <p class="modal-title-caption col-xs-12">
    {{hosMap.name_EN}} / {{hosMap.name_FR}}
  </p>
  <div class="modal-buttons col-xs-12">
    <span> 
      <form method="post" ng-submit="updateHosMap()">
        <input class="btn btn-primary submit" ng-class="{'disabled': !checkForm()}" type="submit" value="Save Changes">
        <input ng-click="cancel()" class="btn btn-danger cancel" type="button" value="Cancel">
      </form>
    </span>
  </div>
</div>
<div class="modal-body">
  <uib-accordion>
    
    <!-- SECTION: Title -->
    <div uib-accordion-group is-open="titleSection.open">
      <uib-accordion-heading>
        <div>
          <strong>Titles</strong> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': titleSection.open, 'glyphicon-chevron-right': !titleSection.open}"></i>
        </div>
      </uib-accordion-heading>
      <div class="row">
        <div class="col-xs-12 col-sm-6 col-md-6" style="margin-bottom: 10px;">
          <div class="input-group">
            <span class="input-group-addon">EN</span>
            <input class="form-control" type="text" ng-model="hosMap.name_EN" ng-change="setChangesMade()" placeholder="English Title" required="required">
          </div>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-6">
          <div class="input-group">
            <span class="input-group-addon">FR</span>
            <input class="form-control" type="text" ng-model="hosMap.name_FR" ng-change="setChangesMade()" placeholder="Titre Français" required="required">
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION: Description -->
    <div uib-accordion-group is-open="descriptionSection.open">
      <uib-accordion-heading>
        <div>
          <strong>Descriptions</strong> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': descriptionSection.open, 'glyphicon-chevron-right': !descriptionSection.open}"></i>
        </div>
      </uib-accordion-heading>
      <div class="row">
        <div class="col-xs-12 col-sm-6" style="margin-bottom: 10px;">
          <div style="text-align:center; margin-bottom: 10px;">
            <span style="font-size:20px;">HTML (English)</span>
          </div>
          <div class="form-group">
            <div text-angular ng-model="hosMap.description_EN" ng-change="setChangesMade()" placeholder="English Description" required="required" ta-toolbar="toolbar"></div>
          </div>
        </div>
        <div class="col-xs-12 col-sm-6" style="margin-bottom: 10px;">
          <div style="text-align:center; margin-bottom: 10px;">
            <span style="font-size:20px;">HTML (Français)</span>
          </div>
          <div class="form-group">
            <div text-angular ng-model="hosMap.description_FR" ng-change="setChangesMade()" placeholder="Description Français" required="required" ta-toolbar="toolbar"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION: QR Code & Map URL -->
    <div uib-accordion-group is-open="qrUrlSection.open">
      <uib-accordion-heading>
        <div>
          <strong>QR Identifier / Map URL</strong> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': qrUrlSection.open, 'glyphicon-chevron-right': !qrUrlSection.open}"></i>
        </div>
      </uib-accordion-heading>
      <div class="alert alert-info" role="alert">
        <strong>QR Identifier</strong><br>
        <p>
          <span class="fa fa-angle-double-right" style="padding-right: 7px;"></span>
          <span>{{hosMap.qrid}}</span> 
        </p> <br>
        <strong>Map URL</strong><br>
        <p>
          <span class="fa fa-angle-double-right" style="padding-right: 7px;"></span>
          <span>{{hosMap.url}}</span> 
        </p>
      </div>
      <div class="row">
        <div class="col-xs-12 col-md-6">
          <div class="input-group">
            <input class="form-control" type="text" ng-model="hosMap.qrid" ng-change="setChangesMade()" placeholder="QR Identifier" required="required">
            <span class="input-group-btn">
              <button class="btn btn-default" type="button" ng-click="generateQRCode(hosMap.qrid)">Generate QR</button>
            </span>
          </div>
          <div ng-show="hosMap.qrcode" style="text-align:center">
            <img ng-src="{{hosMap.qrcode}}" style="width:200px;height:200px;">
          </div>
        </div>
        <div class="col-xs-12 col-md-6">
          <div class="input-group">
            <input class="form-control" type="text" ng-model="hosMap.url" ng-change="setChangesMade()" placeholder="Map URL" required="required">
            <span class="input-group-btn">
              <button class="btn btn-default" type="button" ng-click="showMap(hosMap.url)">Show Map</button>
            </span>
          </div>
          <div ng-show="hosMap.url" style="text-align:center">
            <img ng-src="{{mapURL}}" style="width:200px;height:200px;">
          </div>
        </div>
      </div>
    </div>
  </uib-accordion>
</div>