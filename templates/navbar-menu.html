<!--
SPDX-FileCopyrightText: Copyright (C) 2018 Opal Health Informatics Group at the Research Institute of the McGill University Health Centre <john.kildea@mcgill.ca>

SPDX-License-Identifier: AGPL-3.0-or-later
-->

<nav class="navbar navbar-default navbar-fixed-top" role="navigation" ng-controller="navigation" ng-if="isAuthenticated()">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" ui-sref="home">
            <img alt="Brand" src="images/opal_logo_transparent.png" height="35" width="35">
        </a>
        <p class="navbar-text"><a style="color: #fff" ui-sref="home">opal <strong>ADMIN</strong></a></p>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
            <li class="dropdown" ng-repeat="category in navMenu" ng-if="category.menu.length > 0">
                <a href="" class="dropdown-toggle"  data-toggle="dropdown">{{category.name}} <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li ui-sref-active="active" ng-repeat="menu in category.menu">
                        <a ui-sref="{{menu.url}}" ng-click="closeNav()">
                            <span class="{{menu.iconClass}}" aria-hidden="true"></span>
                            {{menu.name}}
                        </a>
                    </li>
                </ul>
            </li>
            <li class="dropdown" ng-class="{active: currentActiveProfile()}">
                <a href="" class="dropdown-toggle"  data-toggle="dropdown">{{'NAVIGATION_MENU.PROFILE'|translate}} <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li ui-sref-active="active">
                        <a ui-sref="account" ng-click="closeNav()">
                            <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                            {{'NAVIGATION_MENU.ACCOUNT'|translate}}
                        </a>
                    </li>
                    <li>
                        <a ng-click="goToLogout()">
                            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                            {{'NAVIGATION_MENU.LOGOUT'|translate}}
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
    </div><!-- /.navbar-collapse -->
</nav>
